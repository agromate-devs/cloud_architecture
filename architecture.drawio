<mxfile modified="2023-09-16T18:17:03.459Z" host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/117.0" etag="An1JtLYXu5X1rBDuCuNo" version="21.7.5" type="github">
  <diagram id="Ht1M8jgEwFfnCIfOTk4-" name="Page-1">
    <mxGraphModel dx="1434" dy="1027" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="-QjtrjUzRDEMRZ5MF8oH-9" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="71.5" y="679.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="-QjtrjUzRDEMRZ5MF8oH-26" target="1DUO-ZfJQV2c34KI3G3T-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-QjtrjUzRDEMRZ5MF8oH-26" value="Mobile Application" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.mobile;" parent="1" vertex="1">
          <mxGeometry x="52.5" y="729" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="-QjtrjUzRDEMRZ5MF8oH-27" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="665" y="679.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-QjtrjUzRDEMRZ5MF8oH-47" value="Cloud Architecture" style="text;html=1;resizable=0;points=[];autosize=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=30;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="56.5" y="64.5" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-QjtrjUzRDEMRZ5MF8oH-48" value="L&#39;architettura serverless di Agromate" style="text;html=1;resizable=0;points=[];autosize=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="56.5" y="114.5" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-QjtrjUzRDEMRZ5MF8oH-49" value="&lt;div&gt;L&#39;Agrosmart viene configurato e ottiene i dati dai sensori&lt;/div&gt;" style="text;html=1;resizable=0;points=[];autosize=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=16;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="56.5" y="561.5" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SCVMTBWpLvtzJIhz15lM-1" value="" style="line;strokeWidth=2;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="55" y="144.5" width="1060" height="10" as="geometry" />
        </mxCell>
        <mxCell id="7OVz4w7n9kzEPWy-4BBC-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EAEDED;fontSize=22;fontColor=#FFFFFF;strokeColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="1020" y="550" width="539" height="159" as="geometry" />
        </mxCell>
        <mxCell id="7OVz4w7n9kzEPWy-4BBC-4" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="1038" y="562" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7OVz4w7n9kzEPWy-4BBC-5" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="1039" y="624.75" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="7OVz4w7n9kzEPWy-4BBC-13" value="L&#39;utente sceglie una pianta dal database, configura i parametri dei sensori e l&#39;app invia una richiasta all&#39;API /plant_info_api" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1089.5" y="561.5" width="449" height="47.5" as="geometry" />
        </mxCell>
        <mxCell id="7OVz4w7n9kzEPWy-4BBC-14" value="La lambda invia un messaggio al topic MQTT /sensor/plants/UUID con tutti i dettagli sui sensori. Questo messaggio verrà ricevuto dall&#39;Agrosmart che configurerà il codice per azionare l&#39;umidificatore, la pompa o aprire lo sportello di accesso" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1091" y="625.25" width="450" height="73.75" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="1DUO-ZfJQV2c34KI3G3T-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="137" y="770.4117647058822" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-8" target="1DUO-ZfJQV2c34KI3G3T-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-8" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" parent="1" vertex="1">
          <mxGeometry x="310" y="731.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-10" target="1DUO-ZfJQV2c34KI3G3T-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-10" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="464" y="735" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-12" target="1DUO-ZfJQV2c34KI3G3T-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="800" y="769" />
              <mxPoint x="800" y="769" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-12" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.topic_2;" parent="1" vertex="1">
          <mxGeometry x="669.5" y="731.5" width="50.5" height="74.32" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-16" target="1DUO-ZfJQV2c34KI3G3T-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-16" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.iot_core;" parent="1" vertex="1">
          <mxGeometry x="820" y="732" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-17" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.iot_thing_freertos_device;" parent="1" vertex="1">
          <mxGeometry x="1000" y="732" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-19" value="/plant_info_api" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="319" y="819" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-20" value="plant_info_lambda" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="469" y="820" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-21" value="sensor/plants/UUID" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="665" y="810" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-22" value="Agrosmart" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1009" y="820" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-23" value="IoT core" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="829" y="820" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-28" value="Accoppiamento dell&#39;Agrosmart al proprio account" style="text;html=1;resizable=0;points=[];autosize=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=16;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="55" y="180" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-29" value="Passa dettagli della pianta e JWT" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="156" y="780" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-30" value="" style="strokeColor=#dddddd;shadow=1;strokeWidth=1;rounded=1;absoluteArcSize=1;arcSize=2;" parent="1" vertex="1">
          <mxGeometry x="41.5" y="898.5" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-31" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;Firebase&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Auth&lt;/div&gt;" style="sketch=0;dashed=0;connectable=0;html=1;fillColor=#5184F3;strokeColor=none;shape=mxgraph.gcp2.firebase;part=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=5;fontColor=#999999;fontSize=12;" parent="1DUO-ZfJQV2c34KI3G3T-30" vertex="1">
          <mxGeometry width="32.4" height="45" relative="1" as="geometry">
            <mxPoint x="5" y="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-35" value="Accede e richiede un JWT" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="96" y="849" width="110" height="38.5" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-36" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="190" y="218" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-38" target="1DUO-ZfJQV2c34KI3G3T-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-38" target="1DUO-ZfJQV2c34KI3G3T-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-38" value="Mobile Application" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.mobile;" parent="1" vertex="1">
          <mxGeometry x="52.5" y="222" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="206" y="260.6517647058822" as="sourcePoint" />
            <mxPoint x="379" y="260.7055172413793" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-41" target="1DUO-ZfJQV2c34KI3G3T-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-41" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" parent="1" vertex="1">
          <mxGeometry x="391" y="219.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-42" target="1DUO-ZfJQV2c34KI3G3T-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-42" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="540" y="222.5" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-43" value="/device_api" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="404" y="310" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-44" value="&lt;div&gt;device_api_lambda&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="544.5" y="310" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-45" value="Passa UUID del sensore e JWT" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="230" y="222" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-46" value="" style="strokeColor=#dddddd;shadow=1;strokeWidth=1;rounded=1;absoluteArcSize=1;arcSize=2;" parent="1" vertex="1">
          <mxGeometry x="11.5" y="391.5" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-47" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;Firebase&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Auth&lt;/div&gt;" style="sketch=0;dashed=0;connectable=0;html=1;fillColor=#5184F3;strokeColor=none;shape=mxgraph.gcp2.firebase;part=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=5;fontColor=#999999;fontSize=12;" parent="1DUO-ZfJQV2c34KI3G3T-46" vertex="1">
          <mxGeometry width="32.4" height="45" relative="1" as="geometry">
            <mxPoint x="5" y="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-48" value="Accede e richiede un JWT" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="60" y="353" width="110" height="38.5" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-49" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.iot_thing_freertos_device;" parent="1" vertex="1">
          <mxGeometry x="170" y="382.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-53" value="Usando ESPTouch V2, configura il wifi e il sensor_uuid" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="216.5" y="300.5" width="130" height="49" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-54" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EAEDED;fontSize=22;fontColor=#FFFFFF;strokeColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="829" y="160" width="539" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-55" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="847" y="172" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-57" value="L&#39;utente avvia l&#39;accoppiamento tra Agrosmart e telefono, una volta che la connessione è stabilita, il telefono assegna un UUID all&#39;Agrosmart e manda questo UUID insieme all&#39;uid dell&#39;utente ad un&#39;API che salverà il nuovo Agrosmart nel DB" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="898.5" y="171.5" width="449" height="78.5" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-59" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="1" vertex="1">
          <mxGeometry x="720" y="219.5" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-61" value="devices table" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="729" y="310" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-62" value="Agrosmart" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="180" y="470" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-63" value="Dettagli pianta" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="920" y="735" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-64" value="L&#39;agrosmart ottiene dati dai sensori e li manda al backend per visualizzarli nell&#39;app mobile" style="text;html=1;resizable=0;points=[];autosize=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=16;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="41.5" y="1121" width="710" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-65" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.iot_thing_freertos_device;" parent="1" vertex="1">
          <mxGeometry x="52.5" y="1231" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-66" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.iot_thing_temperature_humidity_sensor;" parent="1" vertex="1">
          <mxGeometry x="180" y="1171" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-67" value="DHT11" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="188" y="1261" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-68" value="Agrosmart" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="61.5" y="1321" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-70" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.iot_thing_humidity_sensor;" parent="1" vertex="1">
          <mxGeometry x="179" y="1309" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-71" value="Sensore umidità del terreno" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="191" y="1401" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-74" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="327" y="1181" width="93" height="240" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-75" target="1DUO-ZfJQV2c34KI3G3T-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-75" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.topic_2;" parent="1" vertex="1">
          <mxGeometry x="440" y="1264" width="53" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-76" value="sensors/measurations" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="440" y="1351" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-77" target="1DUO-ZfJQV2c34KI3G3T-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-77" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.iot_core;" parent="1" vertex="1">
          <mxGeometry x="585" y="1264" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1DUO-ZfJQV2c34KI3G3T-78" target="W81BxXv0ZYMUYo0lCCLw-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-78" value="IoT core" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="594" y="1351.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1DUO-ZfJQV2c34KI3G3T-80" target="1DUO-ZfJQV2c34KI3G3T-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-80" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rule;" parent="1" vertex="1">
          <mxGeometry x="743" y="1264" width="46" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-83" value="&lt;p align=&quot;center&quot; style=&quot;line-height: 100%;&quot;&gt;&lt;/p&gt;&lt;h1 align=&quot;center&quot; class=&quot;awsui_heading_2qdw9_v698p_232 awsui_heading-variant-h1_2qdw9_v698p_241&quot;&gt;&lt;font size=&quot;1&quot;&gt;&lt;span style=&quot;font-weight: normal; font-size: 12px;&quot;&gt;mqtt_hour_message_to_db rule&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/h1&gt;&lt;p align=&quot;center&quot;&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="669.5" y="1349" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-85" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="1" vertex="1">
          <mxGeometry x="902" y="1264" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-86" value="sensor_measuration table" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="911" y="1351.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-88" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EAEDED;fontSize=22;fontColor=#FFFFFF;strokeColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="920" y="1000" width="539" height="250" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-89" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="938" y="1012" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-90" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="936.5" y="1092.75" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-91" value="L&#39;agrosmart raccoglie i dati dai diversi sensori, li elabora, senza andare mai al backend, per avviare la pompa o l&#39;umidificatore oppure aprire il pannello principale ed infine ogni ora li manda al backend per creare i grafici e la statistica nell&#39;app" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="989.5" y="1011.5" width="449" height="47.5" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-92" value="Una volta che l&#39;agrosmart manda un messaggio nel topic sensors/measurations, una regola IoT core prende il messaggio e inserisce i dati dei sensori nel DynamoDB. Il topic è comune a tutti gli agrosmart dato che il sensor_uuid è contenuto nel messaggio MQTT" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="988.5" y="1093.25" width="450" height="73.75" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-93" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="404" y="1201" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="1DUO-ZfJQV2c34KI3G3T-94" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="749" y="1211" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="W81BxXv0ZYMUYo0lCCLw-1" target="W81BxXv0ZYMUYo0lCCLw-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-1" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rule;" vertex="1" parent="1">
          <mxGeometry x="601" y="1431" width="46" height="78" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-3" value="mqtt_hour_notification" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="594" y="1520" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="W81BxXv0ZYMUYo0lCCLw-4" target="W81BxXv0ZYMUYo0lCCLw-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-4" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sns;" vertex="1" parent="1">
          <mxGeometry x="730" y="1431" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-6" value="Mobile Application" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.mobile;" vertex="1" parent="1">
          <mxGeometry x="887" y="1431" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-8" value="SNS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="738" y="1520" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-9" value="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="674.75" y="1421" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-10" value="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="938" y="1181" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-11" value="Se l&#39;utente vuole, può ricevere notifiche se la temperatura o l&#39;umidità è sopra un certo limite" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="988.5" y="1181" width="450" height="49" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-12" value="L&#39;utente controlla la Wishlist" style="text;html=1;resizable=0;points=[];autosize=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="41.5" y="1570" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-13" value="Mobile Application" style="outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.mobile;" vertex="1" parent="1">
          <mxGeometry x="52.5" y="1640" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="W81BxXv0ZYMUYo0lCCLw-15">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="92" y="1718" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-15" value="" style="strokeColor=#dddddd;shadow=1;strokeWidth=1;rounded=1;absoluteArcSize=1;arcSize=2;" vertex="1" parent="1">
          <mxGeometry x="41.5" y="1809.5" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-16" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;Firebase&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Auth&lt;/div&gt;" style="sketch=0;dashed=0;connectable=0;html=1;fillColor=#5184F3;strokeColor=none;shape=mxgraph.gcp2.firebase;part=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=5;fontColor=#999999;fontSize=12;" vertex="1" parent="W81BxXv0ZYMUYo0lCCLw-15">
          <mxGeometry width="32.4" height="45" relative="1" as="geometry">
            <mxPoint x="5" y="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-17" value="Accede e richiede un JWT" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="96" y="1760.5" width="110" height="38.5" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="W81BxXv0ZYMUYo0lCCLw-19" target="W81BxXv0ZYMUYo0lCCLw-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-19" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" vertex="1" parent="1">
          <mxGeometry x="226.5" y="1640" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-21" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="375.5" y="1643" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-22" value="/wishlist_api" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="239.5" y="1730.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-23" value="&lt;div&gt;wishlist_api_lambda&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="380" y="1730.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-24" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="1">
          <mxGeometry x="555.5" y="1640" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-25" value="wishlist table" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="564.5" y="1730.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-27" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="W81BxXv0ZYMUYo0lCCLw-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="1680" as="sourcePoint" />
            <mxPoint x="190" y="1630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-28" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="W81BxXv0ZYMUYo0lCCLw-24">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="440" y="1680" as="sourcePoint" />
            <mxPoint x="490" y="1630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-29" value="POST/GET/DELETE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="156" y="1643" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-30" value="Aggiunge/Prende/Cancella dal DB" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="473" y="1650" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-31" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;" vertex="1" parent="1">
          <mxGeometry x="320" y="1600" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-32" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#EAEDED;fontSize=22;fontColor=#FFFFFF;strokeColor=none;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="674.75" y="1580" width="539" height="210" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-33" value="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="692.75" y="1592" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-34" value="L&#39;utente può aggiungere, visualizzare o cancellare dalla lista dei desideri" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="744.25" y="1591.5" width="449" height="28.5" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-35" value="" style="strokeColor=#dddddd;shadow=1;strokeWidth=1;rounded=1;absoluteArcSize=1;arcSize=2;" vertex="1" parent="1">
          <mxGeometry x="219" y="1809.5" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-36" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;Firebase&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Firestore&lt;/div&gt;" style="sketch=0;dashed=0;connectable=0;html=1;fillColor=#5184F3;strokeColor=none;shape=mxgraph.gcp2.firebase;part=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;spacingLeft=5;fontColor=#999999;fontSize=12;" vertex="1" parent="W81BxXv0ZYMUYo0lCCLw-35">
          <mxGeometry width="32.4" height="45" relative="1" as="geometry">
            <mxPoint x="5" y="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-37" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.44;entryY=-0.008;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="W81BxXv0ZYMUYo0lCCLw-35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="1720" as="sourcePoint" />
            <mxPoint x="190" y="1670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-38" value="Salva l&#39;ultimo utente che modifica la lista per scopi di cache" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="250" y="1769" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-39" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="339" y="1820.5" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-42" value="2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#007CBD;strokeColor=none;fontColor=#FFFFFF;fontStyle=1;fontSize=22;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="693.25" y="1656.25" width="40" height="38" as="geometry" />
        </mxCell>
        <mxCell id="W81BxXv0ZYMUYo0lCCLw-43" value="Per evitare richiesta verso API Gateway inutili, salviamo l&#39;ultimo utente che ha cambiato la wishlist, in questo modo, il device ha uno UUID segnato è può confrotare quello locale con quello che ha cambiato la lista dei desideri, quindi se sono uguali non ha senso andare a richiedere una lista che è stata già salvata in locale appena cambiata. Altrimenti esegue una richiesta al backend per prendere la wishlist da DynamoDB" style="text;html=1;align=left;verticalAlign=top;spacingTop=-4;fontSize=14;labelBackgroundColor=none;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="745.25" y="1656.75" width="450" height="123.25" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
